<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.151.0">
    <meta
  name="description"
  content=""
/>
<meta name="author" content="truongnvse182034@fpt.edu.vn" />

    <link rel="icon" href="../../../../images/favicon.png" type="image/png">

    <title>5.4.7 Observability Stack :: Báo cáo thực tập</title>

    
    <link href="../../../../css/nucleus.css?1765346855" rel="stylesheet">
    <link href="../../../../css/fontawesome-all.min.css?1765346855" rel="stylesheet">
    <link href="../../../../css/hybrid.css?1765346855" rel="stylesheet">
    <link href="../../../../css/featherlight.min.css?1765346855" rel="stylesheet">
    <link href="../../../../css/perfect-scrollbar.min.css?1765346855" rel="stylesheet">
    <link href="../../../../css/auto-complete.css?1765346855" rel="stylesheet">
    <link href="../../../../css/atom-one-dark-reasonable.css?1765346855" rel="stylesheet">
    <link href="../../../../css/theme.css?1765346855" rel="stylesheet">
    <link href="../../../../css/hugo-theme.css?1765346855" rel="stylesheet">
    
    <link href="../../../../css/theme-workshop.css?1765346855" rel="stylesheet">
    
    

    <script src="../../../../js/jquery-3.3.1.min.js?1765346855"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

  </head>
  <body class="" data-url="../../../../vi/5-workshop/5.04-configure-stacks/5.4.7-observability-stack/">
    <nav
  id="sidebar"
  class="showVisitedLinks"
>
   
  <div id="header-wrapper">
    <div id="header"><a id="logo" href="../../../../">
  <svg
    id="Layer_1"
    data-name="Layer 1"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 60 30"
    width="30%"
  >
    <defs>
      <style>
        .cls-1 {
          fill: #fff;
        }
        .cls-2 {
          fill: #f90;
          fill-rule: evenodd;
        }
      </style>
    </defs>
    <title>AWS-Logo_White-Color</title>
    <path
      class="cls-1"
      d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"
    ></path>
    <path
      class="cls-2"
      d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"
    ></path>
    <path
      class="cls-2"
      d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"
    ></path>
  </svg>
</a>
</div>
     <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../../../js/lunr.min.js?1765346855"></script>
<script type="text/javascript" src="../../../../js/auto-complete.js?1765346855"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/nvtruongops.github.io\/fcj-workshop-template\/\/vi";
    
</script>
<script type="text/javascript" src="../../../../js/search.js?1765346855"></script>
 
  </div>

  <div class="highlightable">
    <ul class="topics">
               
<li
  data-nav-id="/vi/1-worklog/"
  title="Nhật ký công việc"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/">
     <b> 1. </b> Nhật ký công việc 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/1-worklog/1.1-week1/"
  title="Nhật ký công việc Tuần 1"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.1-week1/">
     <b> 1.1. </b> Nhật ký công việc Tuần 1 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.2-week2/"
  title="Nhật ký Tuần 2"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.2-week2/">
     <b> 1.2. </b> Nhật ký Tuần 2 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.3-week3/"
  title="Nhật ký Tuần 3"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.3-week3/">
     <b> 1.3. </b> Nhật ký Tuần 3 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.4-week4/"
  title="Nhật ký Tuần 4"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.4-week4/">
     <b> 1.4. </b> Nhật ký Tuần 4 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.5-week5/"
  title="Nhật ký Tuần 5"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.5-week5/">
     <b> 1.5. </b> Nhật ký Tuần 5 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.6-week6/"
  title="Báo cáo công việc Tuần 6"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.6-week6/">
     <b> 1.6. </b> Báo cáo công việc Tuần 6 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.7-week7/"
  title="Báo cáo công việc Tuần 7"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.7-week7/">
     <b> 1.7. </b> Báo cáo công việc Tuần 7 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.8-week8/"
  title="Báo cáo công việc Tuần 8"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.8-week8/">
     <b> 1.8. </b> Báo cáo công việc Tuần 8 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.9-week9/"
  title="Worklog Tuần 9"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.9-week9/">
     <b> 1.9. </b> Worklog Tuần 9 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.10-week10/"
  title="Worklog Tuần 10"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.10-week10/">
     <b> 1.10. </b> Worklog Tuần 10 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.11-week11/"
  title="Worklog Tuần 11"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.11-week11/">
     <b> 1.11. </b> Worklog Tuần 11 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/1-worklog/1.12-week12/"
  title="Worklog Tuần 12 "
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/1-worklog/1.12-week12/">
     <b> 1.12. </b> Worklog Tuần 12  
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/vi/2-proposal/"
  title="Đề xuất dự án"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/2-proposal/">
     <b> 2. </b> Đề xuất dự án 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/vi/3-blogstranslated/"
  title="Blog Dịch Sang Tiếng Việt"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/3-blogstranslated/">
     <b> 3. </b> Blog Dịch Sang Tiếng Việt 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/3-blogstranslated/3.1-blog1/"
  title="Blog 1: AWS được vinh danh là Nhà lãnh đạo trong Magic Quadrant 2025 của Gartner về Dịch vụ Nền tảng Đám mây Chiến lược trong 15 năm liên tiếp"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/3-blogstranslated/3.1-blog1/">
     <b> 3.1. </b> Blog 1: AWS được vinh danh là Nhà lãnh đạo trong Magic Quadrant 2025 của Gartner về Dịch vụ Nền tảng Đám mây Chiến lược trong 15 năm liên tiếp 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/3-blogstranslated/3.2-blog2/"
  title="Blog 2: Các mô hình Qwen hiện đã có sẵn trong Amazon Bedrock"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/3-blogstranslated/3.2-blog2/">
     <b> 3.2. </b> Blog 2: Các mô hình Qwen hiện đã có sẵn trong Amazon Bedrock 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/3-blogstranslated/3.3-blog3/"
  title="Blog 3: Quản lý Chính sách Tường lửa AWS Tập trung với AlgoSec"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/3-blogstranslated/3.3-blog3/">
     <b> 3.3. </b> Blog 3: Quản lý Chính sách Tường lửa AWS Tập trung với AlgoSec 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/3-blogstranslated/3.4-blog4/"
  title="Blog 4: Hướng dẫn cốt lõi về Quản trị Cloud tại AWS re:Invent 2025"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/3-blogstranslated/3.4-blog4/">
     <b> 3.4. </b> Blog 4: Hướng dẫn cốt lõi về Quản trị Cloud tại AWS re:Invent 2025 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/3-blogstranslated/3.5-blog5/"
  title="Blog 5: Chiến lược Mua sắm Tập trung vào Giải pháp trên AWS Marketplace"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/3-blogstranslated/3.5-blog5/">
     <b> 3.5. </b> Blog 5: Chiến lược Mua sắm Tập trung vào Giải pháp trên AWS Marketplace 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/3-blogstranslated/3.6-blog6/"
  title="Blog 6: 10 Công bố Hàng đầu về AWS Cloud Operations tại re:Invent 2025"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/3-blogstranslated/3.6-blog6/">
     <b> 3.6. </b> Blog 6: 10 Công bố Hàng đầu về AWS Cloud Operations tại re:Invent 2025 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/vi/4-eventparticipated/"
  title="Các events đã tham gia"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/4-eventparticipated/">
     <b> 4. </b> Các events đã tham gia 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/4-eventparticipated/4.1-event1/"
  title="Event 1"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/4-eventparticipated/4.1-event1/">
     <b> 4.1. </b> Event 1 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/4-eventparticipated/4.2-event2/"
  title="Event 2"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/4-eventparticipated/4.2-event2/">
     <b> 4.2. </b> Event 2 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/4-eventparticipated/4.3-event3/"
  title="Event 3"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/4-eventparticipated/4.3-event3/">
     <b> 4.3. </b> Event 3 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/vi/5-workshop/"
  title="Workshop"
  class="dd-item 
     parent
     
     
        "
>
  <a href="../../../../vi/5-workshop/">
     <b> 5. </b> Workshop 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/5-workshop/5.01-workshop-overview/"
  title="Tổng quan Workshop"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.01-workshop-overview/">
     <b> 5.01. </b> Tổng quan Workshop 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.02-setup-environment/"
  title="Thiết lập Môi trường"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.02-setup-environment/">
     <b> 5.02. </b> Thiết lập Môi trường 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.03-cdk-bootstrap/"
  title="CDK Bootstrap"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.03-cdk-bootstrap/">
     <b> 5.03. </b> CDK Bootstrap 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.04-configure-stacks/"
  title="Cấu hình các Infrastructure Stack"
  class="dd-item 
     parent
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.04-configure-stacks/">
     <b> 5.04. </b> Cấu hình các Infrastructure Stack 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/vi/5-workshop/5.04-configure-stacks/5.4.1-dns-stack/"
  title="5.4.1 DNS Stack"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.04-configure-stacks/5.4.1-dns-stack/">
    5.4.1 DNS Stack 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.04-configure-stacks/5.4.2-certificate-stack/"
  title="5.4.2 Certificate Stack"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.04-configure-stacks/5.4.2-certificate-stack/">
    5.4.2 Certificate Stack 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.04-configure-stacks/5.4.3-core-stack/"
  title="5.4.3 Core Stack"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.04-configure-stacks/5.4.3-core-stack/">
    5.4.3 Core Stack 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.04-configure-stacks/5.4.4-auth-stack/"
  title="5.4.4 Auth Stack"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.04-configure-stacks/5.4.4-auth-stack/">
    5.4.4 Auth Stack 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.04-configure-stacks/5.4.5-backend-stack/"
  title="5.4.5 Backend Stack"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.04-configure-stacks/5.4.5-backend-stack/">
    5.4.5 Backend Stack 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.04-configure-stacks/5.4.6-frontend-stack/"
  title="5.4.6 Frontend Stack"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.04-configure-stacks/5.4.6-frontend-stack/">
    5.4.6 Frontend Stack 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.04-configure-stacks/5.4.7-observability-stack/"
  title="5.4.7 Observability Stack"
  class="dd-item 
     
     active
     
        "
>
  <a href="../../../../vi/5-workshop/5.04-configure-stacks/5.4.7-observability-stack/">
    5.4.7 Observability Stack 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.05-deploy-infrastructure/"
  title="Triển khai Hạ tầng"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.05-deploy-infrastructure/">
     <b> 5.05. </b> Triển khai Hạ tầng 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.06-configure-api-lambda/"
  title="Cấu hình API &amp; Lambda"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.06-configure-api-lambda/">
     <b> 5.06. </b> Cấu hình API &amp; Lambda 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.07-deploy-backend/"
  title="Triển khai Backend Services"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.07-deploy-backend/">
     <b> 5.07. </b> Triển khai Backend Services 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.08-test-endpoints/"
  title="Kiểm Tra Endpoints Toàn Diện"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.08-test-endpoints/">
     <b> 5.08. </b> Kiểm Tra Endpoints Toàn Diện 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.09-push-gitlab/"
  title="Push lên GitLab"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.09-push-gitlab/">
     <b> 5.09. </b> Push lên GitLab 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.10-deploy-amplify/"
  title="Deploy lên Amplify"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.10-deploy-amplify/">
     <b> 5.10. </b> Deploy lên Amplify 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/vi/5-workshop/5.11-cleanup/"
  title="Dọn dẹp tài nguyên"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/5-workshop/5.11-cleanup/">
     <b> 5.11. </b> Dọn dẹp tài nguyên 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/vi/6-self-evaluation/"
  title="Tự Đánh Giá"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/6-self-evaluation/">
     <b> 6. </b> Tự Đánh Giá 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/vi/7-feedback/"
  title="Chia Sẻ và Phản Hồi"
  class="dd-item 
     
     
     
        "
>
  <a href="../../../../vi/7-feedback/">
     <b> 7. </b> Chia Sẻ và Phản Hồi 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
    </ul>

     
    <section id="shortcuts">
      <h3>
        More
      </h3>
      <ul>
        
        <li>
          <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"
            ><i class='fab fa-facebook'></i> AWS Study Group</a
          >
        </li>
        
      </ul>
    </section>
     
    <section id="prefooter">
      <hr />
      <ul>
        
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
            <div class="select-style">
              <select id="select-language" onchange="location = this.value;">
                       
                <option
                  id="en"
                  value="https://nvtruongops.github.io/fcj-workshop-template/5-workshop/5.04-configure-stacks/5.4.7-observability-stack/"
                >
                  English
                </option>
                            
                <option
                  id="vi"
                  value="https://nvtruongops.github.io/fcj-workshop-template/vi/5-workshop/5.04-configure-stacks/5.4.7-observability-stack/"
                  selected
                >
                  Tiếng Việt
                </option>
                   
              </select>
              <svg
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                width="255px"
                height="255px"
                viewBox="0 0 255 255"
                style="enable-background: new 0 0 255 255"
                xml:space="preserve"
              >
                <g>
                  <g id="arrow-drop-down">
                    <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
                  </g>
                </g>
              </svg>
            </div>
          </a>
        </li>
         
        <li>
          <a class="padding" href="#" data-clear-history-toggle=""
            ><i class="fas fa-history fa-fw"></i> Clear History</a
          >
        </li>
        
      </ul>
    </section>
    
    <section id="footer"><left>
    
    <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0"
        title="Migrate" Alt="web counter" border="0" /></a> <br>
    <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0"
        title="Total CLoud Journey" Alt="web counter" border="0" />

</left>
<left>
    <br>
    <br>
    <b>Last Updated</b><br>
    <i>
        <span id="lastUpdated" style="color:orange;"></span>
    </i>

    <script>
        
        const today = new Date();
        
        const formattedDate = today.toLocaleDateString('en-GB');
        
        document.getElementById('lastUpdated').textContent = formattedDate;
    </script>
</left>
<left>
    <br>
    <br>
    <b> Team </b> <br>

    <i> <a href="https://www.facebook.com/groups/660548818043427" style="color:orange">First Cloud Journey </a> <br>

    </i>
</left>

<script async defer src="https://buttons.github.io/buttons.js"></script></section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='../../../../vi/'>Báo cáo thực tập</a> > <a href='../../../../vi/5-workshop/'>Workshop</a> > <a href='../../../../vi/5-workshop/5.04-configure-stacks/'>Cấu hình các Infrastructure Stack</a> > 5.4.7 Observability Stack
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
  <div class="wrapper"><nav id="TableOfContents">
  <ul>
    <li><a href="#tổng-quan">Tổng quan</a>
      <ul>
        <li><a href="#trách-nhiệm-chính">Trách nhiệm chính</a></li>
        <li><a href="#stack-này-bao-gồm">Stack này bao gồm</a></li>
      </ul>
    </li>
    <li><a href="#kiến-trúc">Kiến trúc</a></li>
    <li><a href="#cấu-hình-stack">Cấu hình Stack</a>
      <ul>
        <li><a href="#cấu-trúc-thư-mục">Cấu trúc thư mục</a></li>
        <li><a href="#code-implementation-highlights">Code Implementation Highlights</a></li>
      </ul>
    </li>
    <li><a href="#hướng-dẫn-triển-khai">Hướng dẫn Triển khai</a>
      <ul>
        <li><a href="#điều-kiện-tiên-quyết">Điều kiện tiên quyết</a></li>
        <li><a href="#bước-1-xem-lại-cấu-hình">Bước 1: Xem lại cấu hình</a></li>
        <li><a href="#bước-2-synthesize-cloudformation-template">Bước 2: Synthesize CloudFormation Template</a></li>
        <li><a href="#bước-3-xem-lại-generated-template">Bước 3: Xem lại Generated Template</a></li>
        <li><a href="#bước-4-deploy-observability-stack">Bước 4: Deploy Observability Stack</a></li>
      </ul>
    </li>
    <li><a href="#xác-minh">Xác minh</a>
      <ul>
        <li><a href="#bước-1-xác-minh-cloudformation-stack">Bước 1: Xác minh CloudFormation Stack</a></li>
        <li><a href="#bước-2-xác-minh-cloudwatch-alarms">Bước 2: Xác minh CloudWatch Alarms</a></li>
        <li><a href="#bước-3-xác-minh-cloudwatch-dashboards">Bước 3: Xác minh CloudWatch Dashboards</a></li>
      </ul>
    </li>
    <li><a href="#phân-tích-chi-phí">Phân tích Chi phí</a>
      <ul>
        <li><a href="#chi-phí-hàng-tháng-development">Chi phí hàng tháng (Development)</a></li>
      </ul>
    </li>
    <li><a href="#các-bước-tiếp-theo">Các bước tiếp theo</a></li>
    <li><a href="#tóm-tắt">Tóm tắt</a></li>
  </ul>
</nav></div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              5.4.7 Observability Stack
            </h1>
          

        



	<hr>
<h1 id="observability-stack---monitoring--alerting">Observability Stack - Monitoring &amp; Alerting</h1>
<h2 id="tổng-quan">Tổng quan</h2>
<p>Observability Stack là <strong>lớp giám sát Phase 7</strong> của hạ tầng EveryoneCook. Nó cung cấp giám sát toàn diện, cảnh báo và trực quan hóa cho tất cả các stack đã triển khai thông qua CloudWatch dashboards, alarms và SNS notifications.</p>
<p><strong>Thứ tự triển khai</strong>: Stack này <strong>PHẢI</strong> được triển khai <strong>CUỐI CÙNG</strong>, sau khi tất cả các stack khác (DNS, Certificate, Core, Auth, Backend, Frontend) đã được triển khai.</p>
<p>⚠️ <strong>Lưu ý môi trường</strong>: Hướng dẫn này tập trung vào triển khai môi trường <strong>Development (dev)</strong>. Đối với triển khai staging/production, ngưỡng alarm và khoảng thời gian giám sát có thể khác.</p>
<h3 id="trách-nhiệm-chính">Trách nhiệm chính</h3>
<ul>
<li>Tạo CloudWatch Dashboards cho tất cả các lớp stack</li>
<li>Cấu hình CloudWatch Alarms cho các metric quan trọng</li>
<li>Thiết lập SNS Topic cho thông báo alarm</li>
<li>Tạo Composite Alarm cho trạng thái sức khỏe tổng thể hệ thống</li>
<li>Giám sát API Gateway, Lambda, DynamoDB, S3, CloudFront và Cognito</li>
<li>Theo dõi chi phí và billing metrics</li>
</ul>
<h3 id="stack-này-bao-gồm">Stack này bao gồm</h3>
<p><strong>CloudWatch Dashboards</strong> (4 dashboards):</p>
<ol>
<li><strong>Core Dashboard</strong>: DynamoDB, S3, CloudFront metrics</li>
<li><strong>Auth Dashboard</strong>: Cognito authentication metrics</li>
<li><strong>Backend Dashboard</strong>: API Gateway, Lambda, SQS metrics</li>
<li><strong>Overview Dashboard</strong>: Aggregated system health view</li>
</ol>
<p><strong>CloudWatch Alarms</strong> (15+ alarms):</p>
<ul>
<li>API Gateway: 5XX errors, 4XX errors, latency</li>
<li>Lambda: Error rate, throttles, duration</li>
<li>DynamoDB: Read/write throttles, latency</li>
<li>S3: 4XX/5XX errors</li>
<li>SQS: DLQ messages, queue age</li>
<li>Cost: Daily spending warnings</li>
</ul>
<p><strong>Hệ thống thông báo</strong>:</p>
<ul>
<li>SNS Topic cho thông báo alarm</li>
<li>Email subscriptions cho alerts</li>
<li>Composite alarm cho trạng thái sức khỏe hệ thống</li>
</ul>
<hr>
<h2 id="kiến-trúc">Kiến trúc</h2>
<pre tabindex="0"><code>┌──────────────────────────────────────────────────────────────────────┐
│            Observability Stack (Phase 7 - Dev Environment)            │
│                                                                       │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │  SNS Topic (Alarm Notifications)                                │ │
│  │  ├─ Topic Name: EveryoneCook-dev-Alarms                        │ │
│  │  ├─ Email Subscription: team@everyonecook.cloud                │ │
│  │  └─ Protocol: Email (yêu cầu xác nhận)                         │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                          │                                            │
│                          ▼ (Alarm Actions)                            │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │  CloudWatch Alarms (15+ alarms)                                 │ │
│  │                                                                  │ │
│  │  API Gateway Alarms:                                            │ │
│  │  ├─ 5XX Error Rate &gt; 5% (Critical)                             │ │
│  │  ├─ 4XX Error Rate &gt; 20% (Warning)                             │ │
│  │  └─ P99 Latency &gt; 3s (Warning)                                 │ │
│  │                                                                  │ │
│  │  Lambda Alarms:                                                 │ │
│  │  ├─ Error Rate &gt; 5% (Critical)                                 │ │
│  │  ├─ Throttles &gt; 10 (Critical)                                  │ │
│  │  └─ P99 Duration &gt; 10s (Warning)                               │ │
│  │                                                                  │ │
│  │  DynamoDB Alarms:                                               │ │
│  │  ├─ Read Throttles &gt; 10 (Critical)                             │ │
│  │  ├─ Write Throttles &gt; 10 (Critical)                            │ │
│  │  └─ P99 Latency &gt; 100ms (Warning)                              │ │
│  │                                                                  │ │
│  │  S3 Alarms:                                                     │ │
│  │  ├─ 4XX Error Rate &gt; 5% (Warning)                              │ │
│  │  └─ 5XX Errors &gt; 0 (Critical)                                  │ │
│  │                                                                  │ │
│  │  SQS Alarms:                                                    │ │
│  │  ├─ DLQ Messages &gt; 0 (Critical)                                │ │
│  │  └─ Message Age &gt; 5 minutes (Warning)                          │ │
│  │                                                                  │ │
│  │  Cost Alarms:                                                   │ │
│  │  ├─ Daily Cost &gt; $50 (Warning)                                 │ │
│  │  └─ Daily Cost &gt; $100 (Critical)                               │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                          │                                            │
│                          ▼                                            │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │  Composite Alarm (System Health)                                │ │
│  │  ├─ Name: EveryoneCook-dev-SystemHealth                        │ │
│  │  ├─ Triggers: BẤT KỲ critical alarm nào kích hoạt              │ │
│  │  └─ Action: Gửi SNS notification                               │ │
│  └─────────────────────────────────────────────────────────────────┘ │
│                                                                       │
│  ┌─────────────────────────────────────────────────────────────────┐ │
│  │  CloudWatch Dashboards (4 dashboards)                           │ │
│  │                                                                  │ │
│  │  1. Core Dashboard (EveryoneCook-dev-Core):                    │ │
│  │     ├─ DynamoDB: Read/Write capacity, throttles, latency       │ │
│  │     ├─ S3: Requests, errors, bytes transferred                 │ │
│  │     └─ CloudFront: Requests, error rates, bytes downloaded     │ │
│  │                                                                  │ │
│  │  2. Auth Dashboard (EveryoneCook-dev-Auth):                    │ │
│  │     ├─ Cognito: Sign-ups, sign-ins                             │ │
│  │     └─ Cognito: Failed authentications                         │ │
│  │                                                                  │ │
│  │  3. Backend Dashboard (EveryoneCook-dev-Backend):              │ │
│  │     ├─ API Gateway: Requests, latency (P50/P95/P99)            │ │
│  │     ├─ API Gateway: 4XX/5XX errors                             │ │
│  │     ├─ Lambda: Invocations, duration, errors, throttles        │ │
│  │     └─ SQS: Messages sent, visible, oldest age                 │ │
│  │                                                                  │ │
│  │  4. Overview Dashboard (EveryoneCook-dev-Overview):            │ │
│  │     ├─ System Health: Environment info, region                 │ │
│  │     ├─ Key Metrics: API requests, latency, Lambda stats        │ │
│  │     ├─ Error Trends: API 5XX, Lambda errors (giờ gần nhất)    │ │
│  │     ├─ Cost Tracking: Chi phí ước tính hàng ngày, xu hướng 7d │ │
│  │     └─ Alarm Status: Composite alarm widget                    │ │
│  └─────────────────────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────────┘
                          │
                          │ Giám sát
                          ▼
        ┌──────────────────┴───────────────────┐
        ▼                  ▼                    ▼
   Core Stack        Auth Stack           Backend Stack
   (DynamoDB,        (Cognito)            (API Gateway,
    S3, CDN)                               Lambda, SQS)
</code></pre><hr>
<h2 id="cấu-hình-stack">Cấu hình Stack</h2>
<h3 id="cấu-trúc-thư-mục">Cấu trúc thư mục</h3>
<pre tabindex="0"><code>infrastructure/lib/stacks/
└── observability-stack.ts   # Observability Stack implementation (1175 dòng)
</code></pre><h3 id="code-implementation-highlights">Code Implementation Highlights</h3>
<p><strong>File</strong>: <code>infrastructure/lib/stacks/observability-stack.ts</code></p>
<h4 id="1-sns-topic-cho-alarms">1. SNS Topic cho Alarms</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Tạo SNS Topic cho CloudWatch Alarms
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Task 7.4.2 - Step 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#a6e22e">createAlarmTopic</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">sns</span>.<span style="color:#a6e22e">Topic</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">topic</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">sns</span>.<span style="color:#a6e22e">Topic</span>(<span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#39;AlarmTopic&#39;</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">topicName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`EveryoneCook-</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">environment</span><span style="color:#e6db74">}</span><span style="color:#e6db74">-Alarms`</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">displayName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Everyone Cook CloudWatch Alarms&#39;</span>,
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Thêm email subscription cho alarm notifications
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">topic</span>.<span style="color:#a6e22e">addSubscription</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">sns_subscriptions</span>.<span style="color:#a6e22e">EmailSubscription</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">contact</span>.<span style="color:#a6e22e">email</span>)
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">topic</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Cấu hình</strong>: Email subscription yêu cầu xác nhận qua AWS SNS.</p>
<h4 id="2-api-gateway-alarms">2. API Gateway Alarms</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#75715e">// API Gateway: High 5XX Error Rate (Critical)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">api5xxAlarm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Alarm</span>(<span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#39;API-5XX-Critical&#39;</span>, {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`EveryoneCook-</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">environment</span><span style="color:#e6db74">}</span><span style="color:#e6db74">-API-5XX-Critical`</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmDescription</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;API Gateway 5XX error rate &gt; 5% trong 5 phút&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">metric</span>: <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Metric</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">namespace</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;AWS/ApiGateway&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">metricName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;5XXError&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dimensionsMap</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">ApiName</span>: <span style="color:#66d9ef">apiName</span> },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">statistic</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Sum&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">period</span>: <span style="color:#66d9ef">cdk.Duration.minutes</span>(<span style="color:#ae81ff">5</span>),
</span></span><span style="display:flex;"><span>  }),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">threshold</span>: <span style="color:#66d9ef">5</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">evaluationPeriods</span>: <span style="color:#66d9ef">2</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">comparisonOperator</span>: <span style="color:#66d9ef">cloudwatch.ComparisonOperator.GREATER_THAN_THRESHOLD</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">treatMissingData</span>: <span style="color:#66d9ef">cloudwatch.TreatMissingData.NOT_BREACHING</span>,
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">api5xxAlarm</span>.<span style="color:#a6e22e">addAlarmAction</span>(<span style="color:#a6e22e">alarmAction</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// API Gateway: High Latency (Warning)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">apiLatencyAlarm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Alarm</span>(<span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#39;API-Latency-High&#39;</span>, {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`EveryoneCook-</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">environment</span><span style="color:#e6db74">}</span><span style="color:#e6db74">-API-Latency-High`</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmDescription</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;API Gateway P99 latency &gt; 3s trong 5 phút&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">metric</span>: <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Metric</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">namespace</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;AWS/ApiGateway&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">metricName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Latency&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dimensionsMap</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">ApiName</span>: <span style="color:#66d9ef">apiName</span> },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">statistic</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;p99&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">period</span>: <span style="color:#66d9ef">cdk.Duration.minutes</span>(<span style="color:#ae81ff">5</span>),
</span></span><span style="display:flex;"><span>  }),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">threshold</span>: <span style="color:#66d9ef">3000</span>, <span style="color:#75715e">// 3 giây tính bằng milliseconds
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">evaluationPeriods</span>: <span style="color:#66d9ef">2</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">comparisonOperator</span>: <span style="color:#66d9ef">cloudwatch.ComparisonOperator.GREATER_THAN_THRESHOLD</span>,
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h4 id="3-lambda-alarms">3. Lambda Alarms</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#75715e">// Lambda: High Error Rate (Critical)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">lambdaErrorAlarm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Alarm</span>(<span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#39;Lambda-Error-Rate&#39;</span>, {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`EveryoneCook-</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">environment</span><span style="color:#e6db74">}</span><span style="color:#e6db74">-Lambda-Error-Rate`</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmDescription</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Lambda error rate &gt; 5% trong 5 phút&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">metric</span>: <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Metric</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">namespace</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;AWS/Lambda&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">metricName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Errors&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">statistic</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Sum&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">period</span>: <span style="color:#66d9ef">cdk.Duration.minutes</span>(<span style="color:#ae81ff">5</span>),
</span></span><span style="display:flex;"><span>  }),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">threshold</span>: <span style="color:#66d9ef">5</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">evaluationPeriods</span>: <span style="color:#66d9ef">2</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">comparisonOperator</span>: <span style="color:#66d9ef">cloudwatch.ComparisonOperator.GREATER_THAN_THRESHOLD</span>,
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Lambda: Throttles (Critical)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">lambdaThrottleAlarm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Alarm</span>(<span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#39;Lambda-Throttle&#39;</span>, {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`EveryoneCook-</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">environment</span><span style="color:#e6db74">}</span><span style="color:#e6db74">-Lambda-Throttle`</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmDescription</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Lambda throttles &gt; 10 trong 5 phút&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">metric</span>: <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Metric</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">namespace</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;AWS/Lambda&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">metricName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Throttles&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">statistic</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Sum&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">period</span>: <span style="color:#66d9ef">cdk.Duration.minutes</span>(<span style="color:#ae81ff">5</span>),
</span></span><span style="display:flex;"><span>  }),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">threshold</span>: <span style="color:#66d9ef">10</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">evaluationPeriods</span>: <span style="color:#66d9ef">1</span>,
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h4 id="4-dynamodb-alarms">4. DynamoDB Alarms</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#75715e">// DynamoDB: Read Throttles (Critical)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">dynamoReadThrottleAlarm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Alarm</span>(<span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#39;DynamoDB-Read-Throttle&#39;</span>, {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`EveryoneCook-</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">environment</span><span style="color:#e6db74">}</span><span style="color:#e6db74">-DynamoDB-Read-Throttle`</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmDescription</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;DynamoDB read throttles &gt; 10 trong 5 phút&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">metric</span>: <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Metric</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">namespace</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;AWS/DynamoDB&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">metricName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ReadThrottleEvents&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dimensionsMap</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">TableName</span>: <span style="color:#66d9ef">dynamoTableName</span> },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">statistic</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Sum&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">period</span>: <span style="color:#66d9ef">cdk.Duration.minutes</span>(<span style="color:#ae81ff">5</span>),
</span></span><span style="display:flex;"><span>  }),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">threshold</span>: <span style="color:#66d9ef">10</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">evaluationPeriods</span>: <span style="color:#66d9ef">2</span>,
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// DynamoDB: High Latency (Warning)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">dynamoLatencyAlarm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Alarm</span>(<span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#39;DynamoDB-Latency-High&#39;</span>, {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`EveryoneCook-</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">environment</span><span style="color:#e6db74">}</span><span style="color:#e6db74">-DynamoDB-Latency-High`</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alarmDescription</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;DynamoDB P99 latency &gt; 100ms trong 5 phút&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">metric</span>: <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Metric</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">namespace</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;AWS/DynamoDB&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">metricName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;SuccessfulRequestLatency&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dimensionsMap</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">TableName</span>: <span style="color:#66d9ef">dynamoTableName</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Operation</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Query&#39;</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">statistic</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;p99&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">period</span>: <span style="color:#66d9ef">cdk.Duration.minutes</span>(<span style="color:#ae81ff">5</span>),
</span></span><span style="display:flex;"><span>  }),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">threshold</span>: <span style="color:#66d9ef">100</span>, <span style="color:#75715e">// 100ms
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">evaluationPeriods</span>: <span style="color:#66d9ef">3</span>,
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h4 id="5-composite-alarm">5. Composite Alarm</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Tạo Composite Alarm cho trạng thái sức khỏe tổng thể hệ thống
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Task 7.4.2 - Step 2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#a6e22e">createCompositeAlarm</span>(<span style="color:#a6e22e">alarms</span>: <span style="color:#66d9ef">cloudwatch.IAlarm</span>[])<span style="color:#f92672">:</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">CompositeAlarm</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Lọc chỉ các critical alarms
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">criticalAlarms</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">alarms</span>.<span style="color:#a6e22e">filter</span>(
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">alarm</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">alarm</span>.<span style="color:#a6e22e">alarmName</span>.<span style="color:#a6e22e">includes</span>(<span style="color:#e6db74">&#39;Critical&#39;</span>) <span style="color:#f92672">||</span> <span style="color:#a6e22e">alarm</span>.<span style="color:#a6e22e">alarmName</span>.<span style="color:#a6e22e">includes</span>(<span style="color:#e6db74">&#39;Throttle&#39;</span>)
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">compositeAlarm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">CompositeAlarm</span>(<span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#39;SystemHealth&#39;</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">compositeAlarmName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`EveryoneCook-</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">environment</span><span style="color:#e6db74">}</span><span style="color:#e6db74">-SystemHealth`</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">alarmDescription</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Trạng thái sức khỏe tổng thể hệ thống - kích hoạt nếu bất kỳ critical alarm nào fires&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">alarmRule</span>: <span style="color:#66d9ef">cloudwatch.AlarmRule.anyOf</span>(
</span></span><span style="display:flex;"><span>      ...<span style="color:#a6e22e">criticalAlarms</span>.<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">alarm</span>) <span style="color:#f92672">=&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">AlarmRule</span>.<span style="color:#a6e22e">fromAlarm</span>(<span style="color:#a6e22e">alarm</span>, <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">AlarmState</span>.<span style="color:#a6e22e">ALARM</span>)
</span></span><span style="display:flex;"><span>      )
</span></span><span style="display:flex;"><span>    ),
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">compositeAlarm</span>.<span style="color:#a6e22e">addAlarmAction</span>(<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch_actions</span>.<span style="color:#a6e22e">SnsAction</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">alarmTopic</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">compositeAlarm</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="6-core-dashboard">6. Core Dashboard</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Tạo Core Dashboard (DynamoDB, S3, CloudFront)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#a6e22e">createCoreDashboard</span>(<span style="color:#a6e22e">props</span>: <span style="color:#66d9ef">ObservabilityStackProps</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Dashboard</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">dashboard</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Dashboard</span>(<span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#39;CoreDashboard&#39;</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dashboardName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`EveryoneCook-</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">environment</span><span style="color:#e6db74">}</span><span style="color:#e6db74">-Core`</span>,
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// DynamoDB Metrics
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">dashboard</span>.<span style="color:#a6e22e">addWidgets</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">GraphWidget</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;DynamoDB - Read/Write Capacity&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Metric</span>({
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">namespace</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;AWS/DynamoDB&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">metricName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ConsumedReadCapacityUnits&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">dimensionsMap</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">TableName</span>: <span style="color:#66d9ef">dynamoTableName</span> },
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">statistic</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Sum&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">period</span>: <span style="color:#66d9ef">cdk.Duration.minutes</span>(<span style="color:#ae81ff">5</span>),
</span></span><span style="display:flex;"><span>        }),
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Metric</span>({
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">namespace</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;AWS/DynamoDB&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">metricName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ConsumedWriteCapacityUnits&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">dimensionsMap</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">TableName</span>: <span style="color:#66d9ef">dynamoTableName</span> },
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">statistic</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Sum&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">period</span>: <span style="color:#66d9ef">cdk.Duration.minutes</span>(<span style="color:#ae81ff">5</span>),
</span></span><span style="display:flex;"><span>        }),
</span></span><span style="display:flex;"><span>      ],
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">width</span>: <span style="color:#66d9ef">12</span>,
</span></span><span style="display:flex;"><span>    }),
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">GraphWidget</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;DynamoDB - Throttles&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Metric</span>({
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">namespace</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;AWS/DynamoDB&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">metricName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ReadThrottleEvents&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">dimensionsMap</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">TableName</span>: <span style="color:#66d9ef">dynamoTableName</span> },
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">statistic</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Sum&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">period</span>: <span style="color:#66d9ef">cdk.Duration.minutes</span>(<span style="color:#ae81ff">5</span>),
</span></span><span style="display:flex;"><span>        }),
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Metric</span>({
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">namespace</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;AWS/DynamoDB&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">metricName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;WriteThrottleEvents&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">dimensionsMap</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">TableName</span>: <span style="color:#66d9ef">dynamoTableName</span> },
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">statistic</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Sum&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">period</span>: <span style="color:#66d9ef">cdk.Duration.minutes</span>(<span style="color:#ae81ff">5</span>),
</span></span><span style="display:flex;"><span>        }),
</span></span><span style="display:flex;"><span>      ],
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">width</span>: <span style="color:#66d9ef">12</span>,
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// S3 và CloudFront metrics...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">dashboard</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="7-overview-dashboard">7. Overview Dashboard</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Tạo Overview Dashboard (Aggregated view)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#a6e22e">createOverviewDashboard</span>(<span style="color:#a6e22e">props</span>: <span style="color:#66d9ef">ObservabilityStackProps</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Dashboard</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">dashboard</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">Dashboard</span>(<span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#39;OverviewDashboard&#39;</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dashboardName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`EveryoneCook-</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">environment</span><span style="color:#e6db74">}</span><span style="color:#e6db74">-Overview`</span>,
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// System Health Header
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">dashboard</span>.<span style="color:#a6e22e">addWidgets</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">cloudwatch</span>.<span style="color:#a6e22e">TextWidget</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">markdown</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`# Everyone Cook - System Overview</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">n</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">n**Environment:** </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">environment</span><span style="color:#e6db74">}</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">n</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">n**Region:** </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">region</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">width</span>: <span style="color:#66d9ef">24</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">height</span>: <span style="color:#66d9ef">2</span>,
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Key Metrics: API, Lambda, DynamoDB, S3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Cost Tracking
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Alarm Status Widget
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">dashboard</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<h2 id="hướng-dẫn-triển-khai">Hướng dẫn Triển khai</h2>
<h3 id="điều-kiện-tiên-quyết">Điều kiện tiên quyết</h3>
<p>Trước khi triển khai Observability Stack, đảm bảo:</p>
<ol>
<li>
<p><strong>Tất cả các stack khác đã triển khai</strong>:</p>
<ul>
<li>DNS Stack (Phase 1)</li>
<li>Certificate Stack (Phase 1.5)</li>
<li>Core Stack (Phase 2)</li>
<li>Auth Stack (Phase 3)</li>
<li>Backend Stack (Phase 4)</li>
<li>Frontend Stack (Phase 6 - Amplify)</li>
</ul>
</li>
<li>
<p><strong>Stack exports có sẵn</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aws cloudformation list-exports --region ap-southeast-1
</span></span></code></pre></div><p>Expected exports:</p>
<ul>
<li><code>EveryoneCook-dev-Core-TableName</code></li>
<li><code>EveryoneCook-dev-Core-ContentBucketName</code></li>
<li><code>EveryoneCook-dev-Core-DistributionId</code></li>
<li><code>EveryoneCook-dev-Auth-UserPoolId</code></li>
<li><code>EveryoneCook-dev-Backend-ApiName</code></li>
</ul>
</li>
<li>
<p><strong>Email đã cấu hình</strong>:</p>
<ul>
<li>Email hợp lệ trong <code>infrastructure/config/dev.ts</code></li>
<li>Email sẽ nhận xác nhận subscription SNS</li>
</ul>
</li>
</ol>
<h3 id="bước-1-xem-lại-cấu-hình">Bước 1: Xem lại cấu hình</h3>
<p><strong>File</strong>: <code>infrastructure/config/dev.ts</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">devConfig</span>: <span style="color:#66d9ef">EnvironmentConfig</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">environment</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;dev&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">region</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ap-southeast-1&#39;</span>,
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Email cho alarm notifications
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">contact</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">email</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;your-email@example.com&#39;</span>,  <span style="color:#75715e">// ⚠️ Cập nhật cái này
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">phone</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;+1234567890&#39;</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Monitoring settings (đã cấu hình)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">monitoring</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">enableDetailedMonitoring</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">retainLogs</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">logRetentionDays</span>: <span style="color:#66d9ef">7</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">enableXRay</span>: <span style="color:#66d9ef">false</span>,  <span style="color:#75715e">// Tắt cho dev để tiết kiệm chi phí
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>⚠️ <strong>Quan trọng</strong>: Cập nhật địa chỉ email để nhận thông báo alarm.</p>
<h3 id="bước-2-synthesize-cloudformation-template">Bước 2: Synthesize CloudFormation Template</h3>
<p>Di chuyển đến thư mục infrastructure:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>cd D:\Project_AWS\everyonecook\infrastructure
</span></span></code></pre></div><p>Synthesize Observability Stack:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>npm run synth
</span></span></code></pre></div><p><strong>Kết quả mong đợi</strong> (1175 dòng):</p>
<pre tabindex="0"><code>✨ Synthesis time: 3.5s

Resources:
[+] AWS::SNS::Topic                         AlarmTopic
[+] AWS::SNS::Subscription                  AlarmTopic/EmailSubscription
[+] AWS::CloudWatch::Alarm                  API-5XX-Critical
[+] AWS::CloudWatch::Alarm                  API-4XX-Warning
[+] AWS::CloudWatch::Alarm                  API-Latency-High
[+] AWS::CloudWatch::Alarm                  Lambda-Error-Rate
[+] AWS::CloudWatch::Alarm                  Lambda-Throttle
[+] AWS::CloudWatch::Alarm                  Lambda-Duration-High
[+] AWS::CloudWatch::Alarm                  DynamoDB-Read-Throttle
[+] AWS::CloudWatch::Alarm                  DynamoDB-Write-Throttle
[+] AWS::CloudWatch::Alarm                  DynamoDB-Latency-High
[+] AWS::CloudWatch::Alarm                  S3-4XX-Warning
[+] AWS::CloudWatch::Alarm                  S3-5XX-Critical
[+] AWS::CloudWatch::Alarm                  SQS-DLQ-Messages
[+] AWS::CloudWatch::Alarm                  SQS-Queue-Age
[+] AWS::CloudWatch::Alarm                  Cost-Warning
[+] AWS::CloudWatch::Alarm                  Cost-Critical
[+] AWS::CloudWatch::CompositeAlarm         SystemHealth
[+] AWS::CloudWatch::Dashboard              CoreDashboard
[+] AWS::CloudWatch::Dashboard              AuthDashboard
[+] AWS::CloudWatch::Dashboard              BackendDashboard
[+] AWS::CloudWatch::Dashboard              OverviewDashboard

Outputs:
- AlarmTopicArn
- CompositeAlarmName
- CoreDashboardName
- AuthDashboardName
- BackendDashboardName
- OverviewDashboardName
</code></pre><p><img src="../../../../images/5-Workshop/5.4-configure-stacks/5.4.7/synth-output.png" alt="CDK Synth Output">
<em>Screenshot: CDK synth output hiển thị tất cả tài nguyên Observability Stack</em></p>
<h3 id="bước-3-xem-lại-generated-template">Bước 3: Xem lại Generated Template</h3>
<p>Mở CloudFormation template đã tạo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>code infrastructure/cdk.out/EveryoneCook-dev-Observability.template.json
</span></span></code></pre></div><p><img src="../../../../images/5-Workshop/5.4-configure-stacks/cloudformation-template.png" alt="CloudFormation Template">
<em>Screenshot: Generated CloudFormation template hiển thị SNS Topic, 15+ Alarms, Composite Alarm và 4 Dashboards</em></p>
<h3 id="bước-4-deploy-observability-stack">Bước 4: Deploy Observability Stack</h3>
<p>Deploy sử dụng CDK:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>npx cdk deploy EveryoneCook-dev-Observability --require-approval never
</span></span></code></pre></div><p><strong>Thời gian triển khai dự kiến</strong>: 2-3 phút</p>
<p><strong>Kết quả Deployment</strong>:</p>
<pre tabindex="0"><code>EveryoneCook-dev-Observability: deploying...

EveryoneCook-dev-Observability: creating CloudFormation changeset...

EveryoneCook-dev-Observability

Outputs:
EveryoneCook-dev-Observability.AlarmTopicArn = arn:aws:sns:ap-southeast-1:123456789012:EveryoneCook-dev-Alarms
EveryoneCook-dev-Observability.CompositeAlarmName = EveryoneCook-dev-SystemHealth
EveryoneCook-dev-Observability.CoreDashboardName = EveryoneCook-dev-Core
EveryoneCook-dev-Observability.AuthDashboardName = EveryoneCook-dev-Auth
EveryoneCook-dev-Observability.BackendDashboardName = EveryoneCook-dev-Backend
EveryoneCook-dev-Observability.OverviewDashboardName = EveryoneCook-dev-Overview

Stack ARN:
arn:aws:cloudformation:ap-southeast-1:123456789012:stack/EveryoneCook-dev-Observability/...

✨ Deployment time: 2m 15s
</code></pre><h2 id="xác-minh">Xác minh</h2>
<h3 id="bước-1-xác-minh-cloudformation-stack">Bước 1: Xác minh CloudFormation Stack</h3>
<p>Điều hướng đến <strong>CloudFormation Console</strong>:</p>
<pre tabindex="0"><code>AWS Console → CloudFormation → Stacks
</code></pre><p><strong>Xác minh Stack</strong>:</p>
<ul>
<li>Stack Name: <code>EveryoneCook-dev-Observability</code></li>
<li>Status: <strong>CREATE_COMPLETE</strong> ✅</li>
<li>Resources: <strong>24 resources</strong> đã tạo</li>
</ul>
<p><img src="../../../../images/5-Workshop/5.4-configure-stacks/5.4.7/cloudformation-stack.png" alt="CloudFormation Stack">
<em>Screenshot: CloudFormation stack với trạng thái CREATE_COMPLETE và 24 resources</em></p>
<p><img src="../../../../images/5-Workshop/5.4-configure-stacks/5.4.7/cloudformation-outputs.png" alt="CloudFormation Outputs">
<em>Screenshot: CloudFormation Outputs tab hiển thị tất cả 6 outputs</em></p>
<h3 id="bước-2-xác-minh-cloudwatch-alarms">Bước 2: Xác minh CloudWatch Alarms</h3>
<p>Điều hướng đến <strong>CloudWatch Console</strong> → <strong>Alarms</strong>:</p>
<pre tabindex="0"><code>AWS Console → CloudWatch → All alarms
</code></pre><p><strong>Xác minh Alarms đã tạo</strong> (15+ alarms):</p>
<table>
  <thead>
      <tr>
          <th>Tên Alarm</th>
          <th>Loại</th>
          <th>Metric</th>
          <th>Ngưỡng</th>
          <th>Trạng thái</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>EveryoneCook-dev-API-5XX-Critical</code></td>
          <td>Critical</td>
          <td>API 5XX Errors</td>
          <td>&gt; 5</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-API-4XX-Warning</code></td>
          <td>Warning</td>
          <td>API 4XX Errors</td>
          <td>&gt; 20</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-API-Latency-High</code></td>
          <td>Warning</td>
          <td>API P99 Latency</td>
          <td>&gt; 3000ms</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-Lambda-Error-Rate</code></td>
          <td>Critical</td>
          <td>Lambda Errors</td>
          <td>&gt; 5</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-Lambda-Throttle</code></td>
          <td>Critical</td>
          <td>Lambda Throttles</td>
          <td>&gt; 10</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-Lambda-Duration-High</code></td>
          <td>Warning</td>
          <td>Lambda P99 Duration</td>
          <td>&gt; 10000ms</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-DynamoDB-Read-Throttle</code></td>
          <td>Critical</td>
          <td>DynamoDB Read Throttles</td>
          <td>&gt; 10</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-DynamoDB-Write-Throttle</code></td>
          <td>Critical</td>
          <td>DynamoDB Write Throttles</td>
          <td>&gt; 10</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-DynamoDB-Latency-High</code></td>
          <td>Warning</td>
          <td>DynamoDB P99 Latency</td>
          <td>&gt; 100ms</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-S3-4XX-Warning</code></td>
          <td>Warning</td>
          <td>S3 4XX Errors</td>
          <td>&gt; 5%</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-S3-5XX-Critical</code></td>
          <td>Critical</td>
          <td>S3 5XX Errors</td>
          <td>&gt; 0</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-SQS-DLQ-Messages</code></td>
          <td>Critical</td>
          <td>SQS DLQ Messages</td>
          <td>&gt; 0</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-SQS-Queue-Age</code></td>
          <td>Warning</td>
          <td>SQS Message Age</td>
          <td>&gt; 300s</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-Cost-Warning</code></td>
          <td>Warning</td>
          <td>Daily Cost</td>
          <td>&gt; $50</td>
          <td>OK</td>
      </tr>
      <tr>
          <td><code>EveryoneCook-dev-Cost-Critical</code></td>
          <td>Critical</td>
          <td>Daily Cost</td>
          <td>&gt; $100</td>
          <td>OK</td>
      </tr>
  </tbody>
</table>
<p><strong>Xác minh Composite Alarm</strong>:</p>
<ul>
<li>Name: <code>EveryoneCook-dev-SystemHealth</code></li>
<li>Type: Composite</li>
<li>Rule: BẤT KỲ critical alarm nào → ALARM</li>
<li>Status: <strong>OK</strong> ✅</li>
</ul>
<p><img src="../../../../images/5-Workshop/5.4-configure-stacks/cloudwatch-alarms.png" alt="CloudWatch Alarms List">
<em>Screenshot: CloudWatch Alarms console hiển thị tất cả 15+ alarms với trạng thái OK</em></p>
<p><img src="../../../../images/5-Workshop/5.4-configure-stacks/13-cloudwatch-alarms.png" alt="Composite Alarm">
<em>Screenshot: Chi tiết Composite alarm cho giám sát trạng thái sức khỏe hệ thống</em></p>
<h3 id="bước-3-xác-minh-cloudwatch-dashboards">Bước 3: Xác minh CloudWatch Dashboards</h3>
<p>Điều hướng đến <strong>CloudWatch Console</strong> → <strong>Dashboards</strong>:</p>
<pre tabindex="0"><code>AWS Console → CloudWatch → Dashboards
</code></pre><p><strong>Xác minh Dashboards đã tạo</strong> (5 dashboards):</p>
<h4 id="1-core-dashboard-everyonecook-dev-core">1. Core Dashboard (<code>EveryoneCook-dev-Core</code>)</h4>
<p>Mở dashboard và xác minh các widgets:</p>
<p><strong>DynamoDB Widgets</strong>:</p>
<ul>
<li>Biểu đồ Read/Write Capacity</li>
<li>Biểu đồ Throttles</li>
<li>Biểu đồ Latency (P99)</li>
<li>Metric Table Size</li>
</ul>
<p><strong>S3 Widgets</strong>:</p>
<ul>
<li>Biểu đồ Requests</li>
<li>Biểu đồ Errors (4XX/5XX)</li>
</ul>
<p><strong>CloudFront Widgets</strong>:</p>
<ul>
<li>Biểu đồ Requests</li>
<li>Biểu đồ Error Rate (4XX/5XX)</li>
<li>Biểu đồ Bytes Downloaded</li>
</ul>
<p><img src="../../../../images/5-Workshop/5.4-configure-stacks/5.4.7/core-dashboard.png" alt="Core Dashboard">
<em>Screenshot: Core Dashboard hiển thị DynamoDB, S3 và CloudFront metrics</em></p>
<h4 id="2-auth-dashboard-everyonecook-dev-auth">2. Auth Dashboard (<code>EveryoneCook-dev-Auth</code>)</h4>
<p><strong>Cognito Widgets</strong>:</p>
<ul>
<li>Biểu đồ Sign-ups</li>
<li>Biểu đồ Sign-ins</li>
<li>Biểu đồ Failed Authentications</li>
</ul>
<p><img src="../../../../images/5-Workshop/5.4-configure-stacks/5.4.7/auth-dashboard.png" alt="Auth Dashboard">
<em>Screenshot: Auth Dashboard hiển thị Cognito authentication metrics</em></p>
<h4 id="3-backend-dashboard-everyonecook-dev-backend">3. Backend Dashboard (<code>EveryoneCook-dev-Backend</code>)</h4>
<p><strong>API Gateway Widgets</strong>:</p>
<ul>
<li>Biểu đồ Requests</li>
<li>Biểu đồ Latency (P50/P95/P99)</li>
<li>Biểu đồ 4XX Errors</li>
<li>Biểu đồ 5XX Errors</li>
</ul>
<p><strong>Lambda Widgets</strong>:</p>
<ul>
<li>Biểu đồ Invocations</li>
<li>Biểu đồ Duration (P99)</li>
<li>Biểu đồ Errors</li>
<li>Biểu đồ Throttles</li>
</ul>
<p><strong>SQS Widgets</strong>:</p>
<ul>
<li>Biểu đồ Messages Sent</li>
<li>Biểu đồ Messages Visible</li>
<li>Biểu đồ Oldest Message Age</li>
</ul>
<p><img src="../../../../images/5-Workshop/5.4-configure-stacks/5.4.7/backend-dashboard.png" alt="Backend Dashboard">
<em>Screenshot: Backend Dashboard hiển thị API Gateway, Lambda và SQS metrics</em></p>
<h4 id="4-overview-dashboard-everyonecook-dev-overview">4. Overview Dashboard (<code>EveryoneCook-dev-Overview</code>)</h4>
<p><strong>Phần System Health</strong>:</p>
<ul>
<li>Header với thông tin environment</li>
<li>Thông tin Region</li>
</ul>
<p><strong>Key Metrics</strong>:</p>
<ul>
<li>API Requests (5m) - Single value widget</li>
<li>API P99 Latency - Single value widget</li>
<li>Lambda Invocations (5m) - Single value widget</li>
<li>Lambda Errors (5m) - Single value widget</li>
<li>DynamoDB Read/Write Throttles - Single value widgets</li>
<li>S3 Requests và Errors - Single value widgets</li>
</ul>
<p><strong>Trends</strong>:</p>
<ul>
<li>Biểu đồ Error Rates (API 5XX, Lambda Errors)</li>
</ul>
<p><strong>Cost Tracking</strong>:</p>
<ul>
<li>Estimated Daily Cost - Single value widget</li>
<li>Cost Trend (7 ngày) - Graph widget</li>
</ul>
<p><strong>Alarm Status</strong>:</p>
<ul>
<li>Composite Alarm widget hiển thị trạng thái sức khỏe hệ thống</li>
</ul>
<p><img src="../../../../images/5-Workshop/5.4-configure-stacks/5.4.7/overview-dashboard.png" alt="Overview Dashboard">
<em>Screenshot: Overview Dashboard với system health, key metrics, error trends và cost tracking</em></p>
<h2 id="phân-tích-chi-phí">Phân tích Chi phí</h2>
<h3 id="chi-phí-hàng-tháng-development">Chi phí hàng tháng (Development)</h3>
<table>
  <thead>
      <tr>
          <th>Dịch vụ</th>
          <th>Tài nguyên</th>
          <th>Số lượng</th>
          <th>Đơn giá</th>
          <th>Tổng</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>CloudWatch Alarms</td>
          <td>Standard alarms</td>
          <td>15</td>
          <td>$0.10/alarm</td>
          <td>$1.50</td>
      </tr>
      <tr>
          <td>CloudWatch Alarms</td>
          <td>Composite alarm</td>
          <td>1</td>
          <td>$0.50/alarm</td>
          <td>$0.50</td>
      </tr>
      <tr>
          <td>CloudWatch Dashboards</td>
          <td>Dashboards (&gt;3)</td>
          <td>1</td>
          <td>$3.00/dashboard</td>
          <td>$3.00</td>
      </tr>
      <tr>
          <td>CloudWatch Metrics</td>
          <td>Standard resolution</td>
          <td>Bao gồm</td>
          <td>Miễn phí</td>
          <td>$0.00</td>
      </tr>
      <tr>
          <td>SNS</td>
          <td>Email notifications</td>
          <td>&lt;1000</td>
          <td>Free tier</td>
          <td>$0.00</td>
      </tr>
      <tr>
          <td>CloudWatch Logs</td>
          <td>7-day retention</td>
          <td>~5 GB</td>
          <td>$0.50/GB</td>
          <td>$2.50</td>
      </tr>
      <tr>
          <td><strong>Tổng cộng</strong></td>
          <td></td>
          <td></td>
          <td></td>
          <td><strong>$7.50/tháng</strong></td>
      </tr>
  </tbody>
</table>
<p><strong>Lợi ích Free Tier</strong>:</p>
<ul>
<li>3 dashboard đầu tiên: Miễn phí</li>
<li>10 alarm đầu tiên: Miễn phí (đã bao gồm)</li>
<li>1 triệu API request đầu tiên tới CloudWatch: Miễn phí</li>
<li>SNS email (1000 đầu tiên): Miễn phí</li>
</ul>
<hr>
<h2 id="các-bước-tiếp-theo">Các bước tiếp theo</h2>
<p>Sau khi triển khai Observability Stack:</p>
<ol>
<li>
<p><strong>Xác nhận Email Subscription</strong>: Kiểm tra inbox và xác nhận SNS subscription</p>
</li>
<li>
<p><strong>Xem lại Dashboards</strong>: Làm quen với tất cả 4 dashboards</p>
</li>
<li>
<p><strong>Kiểm tra Alarms</strong>: Kích hoạt test alarm để xác minh thông báo</p>
</li>
<li>
<p><strong>Giám sát Chi phí</strong>: Kiểm tra theo dõi chi phí hàng ngày trong Overview Dashboard</p>
</li>
<li>
<p>⏭️ <strong>Deploy Frontend</strong>: Tiếp tục đến <a href="../../../../vi/5-workshop/5.10-deploy-amplify/">5.10 Deploy to Amplify</a></p>
</li>
<li>
<p>⏭️ <strong>Test End-to-End</strong>: Kiểm tra luồng ứng dụng hoàn chỉnh và giám sát metrics</p>
</li>
<li>
<p>📊 <strong>Xem lại Metrics</strong>: Sau 24 giờ, xem lại tất cả dashboards để có baseline metrics</p>
</li>
</ol>
<hr>
<h2 id="tóm-tắt">Tóm tắt</h2>
<p>Bạn đã triển khai thành công <strong>Observability Stack</strong> với:</p>
<p><strong>1 SNS Topic</strong> cho thông báo alarm<br>
<strong>15+ CloudWatch Alarms</strong> cho các metric quan trọng<br>
<strong>1 Composite Alarm</strong> cho trạng thái sức khỏe tổng thể hệ thống<br>
<strong>4 CloudWatch Dashboards</strong> cho giám sát<br>
<strong>Email Notifications</strong> đã cấu hình và xác nhận</p>
<p><strong>Thành tựu chính</strong>:</p>
<ul>
<li>Tầm nhìn hoàn chỉnh về trạng thái sức khỏe hệ thống</li>
<li>Cảnh báo chủ động cho các vấn đề nghiêm trọng</li>
<li>Theo dõi và tối ưu chi phí</li>
<li>Dashboards giám sát tập trung</li>
</ul>
<p><strong>Tổng tài nguyên</strong>: 24 CloudFormation resources<br>
<strong>Thời gian triển khai</strong>: ~2-3 phút<br>
<strong>Chi phí hàng tháng</strong>: ~$7.50 (môi trường dev)</p>
<hr>
<p><strong>🎉 Chúc mừng!</strong> Bạn đã hoàn thành tất cả các triển khai infrastructure stack. Nền tảng EveryoneCook của bạn giờ đây có giám sát và observability toàn diện.</p>
<p><strong>Tiếp theo</strong>: <a href="../../../../vi/5-workshop/5.10-deploy-amplify/">5.10 Deploy to Amplify</a> để triển khai ứng dụng Next.js frontend.</p>
<hr>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="../../../../vi/5-workshop/5.04-configure-stacks/5.4.6-frontend-stack/" title="5.4.6 Frontend Stack"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../../../vi/5-workshop/5.05-deploy-infrastructure/" title="Triển khai Hạ tầng" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../../../js/clipboard.min.js?1765346855"></script>
    <script src="../../../../js/perfect-scrollbar.min.js?1765346855"></script>
    <script src="../../../../js/perfect-scrollbar.jquery.min.js?1765346855"></script>
    <script src="../../../../js/jquery.sticky.js?1765346855"></script>
    <script src="../../../../js/featherlight.min.js?1765346855"></script>
    <script src="../../../../js/highlight.pack.js?1765346855"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../../../js/modernizr.custom-3.6.0.js?1765346855"></script>
    <script src="../../../../js/learn.js?1765346855"></script>
    <script src="../../../../js/hugo-learn.js?1765346855"></script>

    <link href="../../../../mermaid/mermaid.css?1765346855" rel="stylesheet" />
    <script src="../../../../mermaid/mermaid.js?1765346855"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function (i, s, o, g, r, a, m) {
    i["GoogleAnalyticsObject"] = r;
    ((i[r] =
      i[r] ||
      function () {
        (i[r].q = i[r].q || []).push(arguments);
      }),
      (i[r].l = 1 * new Date()));
    ((a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]));
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m);
  })(
    window,
    document,
    "script",
    "https://www.google-analytics.com/analytics.js",
    "ga",
  );

  ga("create", "UA-158079754-2", "auto");
  ga("send", "pageview");
</script>

  </body>
</html>
